### PDDL Domain 相似度分析报告
###### Generated by AI Assistant
##### Date: 2025-08-13

# Blocksworld Domain 相似度分析

## 1. 数据提取结果

### 1.1 Gold Domain Actions

| Action  | Preconditions                      | Effects                                                                 |
|---------|------------------------------------|-------------------------------------------------------------------------|
| pickup  | `(clear ?ob) (on-table ?ob) (arm-empty)`          | `(holding ?ob) (not (clear ?ob)) (not (on-table ?ob)) (not (arm-empty))`|
| putdown | `(holding ?ob)`                                   | `(clear ?ob) (arm-empty) (on-table ?ob) (not (holding ?ob))`           |
| stack   | `(clear ?underob) (holding ?ob)`                  | `(arm-empty) (clear ?ob) (on ?ob ?underob) (not (clear ?underob)) (not (holding ?ob))`|
| unstack | `(on ?ob ?underob) (clear ?ob) (arm-empty)`       | `(holding ?ob) (clear ?underob) (not (on ?ob ?underob)) (not (clear ?ob)) (not (arm-empty))`|

### 1.2 LLM Generated Actions

| Action  | Preconditions                           | Effects                                                                 |
|---------|----------------------------------------|-------------------------------------------------------------------------|
| pickup  | `(arm-empty) (clear ?x) (on-table ?x)` | `(not (arm-empty)) (holding ?x) (not (clear ?x))`                       |
| putdown | `(holding ?x)`                         | `(not (holding ?x)) (arm-empty) (clear ?x) (on-table ?x)`               |
| stack   | `(holding ?x) (clear ?y)`              | `(not (holding ?x)) (arm-empty) (on ?x ?y) (clear ?x) (not (clear ?y))`|
| unstack | `(arm-empty) (on ?x ?y) (clear ?x)`    | `(not (arm-empty)) (holding ?x) (clear ?y) (not (on ?x ?y))`            |

## 2. 相似度计算过程

### 2.1 计算公式
$\text{Similarity} = 1 - \frac{|A_{\text{pre}} \Delta A'_{\text{pre}}| + |A_{\text{ef}} \Delta A'_{\text{ef}}|}{|A_{\text{pre}} \cup A'_{\text{pre}}| + |A_{\text{ef}} \cup A'_{\text{ef}}|}$$

### 2.2 以 pickup 动作为例

**Gold Preconditions**:  
`{"clear ?ob", "on-table ?ob", "arm-empty"}`  
**LLM Preconditions**:  
`{"arm-empty", "clear ?x", "on-table ?x"}`  

**标准化后**:  
`{"clear ?", "on-table ?", "arm-empty"}` (两边相同)

**Gold Effects**:  
`{"holding ?ob", "not (clear ?ob)", "not (on-table ?ob)", "not (arm-empty)"}`  
**LLM Effects**:  
`{"not (arm-empty)", "holding ?x", "not (clear ?x)"}`  

**标准化后差异**:  
- 独有项: Gold `{"not (on-table ?)"}`
- 共有项: `{"holding ?", "not (clear ?)", "not (arm-empty)"}`

**计算**:  
- Pre Δ: 0 (完全匹配)
- Ef Δ: 1 (`not (on-table ?)`)
- Pre ∪: 3  
- Ef ∪: 4  
- Similarity = 1 - (0+1)/(3+4) ≈ 0.857

## 3. 完整结果

| Action  | Similarity | 差异分析                     |
|---------|------------|------------------------------|
| pickup  | 0.857      | 缺少 `not (on-table ?)` 效果 |
| putdown | 1.000      | 完全匹配                     |
| stack   | 1.000      | 完全匹配                     |
| unstack | 0.875      | 效果排序不同无实质差异       |

**整体相似度**: 0.933
